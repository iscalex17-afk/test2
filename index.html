<!doctype html>
<html lang="ro">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>RivoFit — programe fitness în PDF</title>
    <meta name="description" content="Site single-file calm, axat pe fitness. Paletă auriu crom + negru mat + alb. Popup la intrare, tranziții slide între secțiuni, galerie foto cu rame, layout aliniat la dreapta cu scroll vertical.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0' stop-color='%23f5d46b'/%3E%3Cstop offset='1' stop-color='%23b38b2e'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='36' height='36' rx='8' fill='%230a0a0a'/%3E%3Cpath d='M9 24l6-12 6 12' stroke='url(%23g)' stroke-width='3' stroke-linecap='round' fill='none'/%3E%3C/svg%3E" type="image/svg+xml">
    <style>
      :root{
        --bg:#0a0a0a;             /* negru mat */
        --bg-2:#0f0f0f;           /* strat întunecat */
        --text:#ffffff;           /* alb curat */
        --muted:#cfcfcf;          /* alb-argintiu */
        --accent:#f5d46b;         /* auriu crom deschis */
        --accent-2:#b38b2e;       /* auriu crom închis */
        --border:#2a2a2a;         /* chenar discret */
        --card:#111111;           /* card negru mat */
        --card-2:#161616;         /* hover card */
        --success:#4ad398;
        --shadow: 0 10px 30px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.02);
        --radius:16px;
        --radius-lg:22px;
        --maxw:1140px;
      }
      * { box-sizing:border-box }
      html,body{ height:100% }
      html{ scroll-behavior:smooth }
      body{
        margin:0;
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        color:var(--text);
        background: radial-gradient(100% 120% at 100% 0%, #151515 0%, var(--bg) 45%) fixed;
        overflow-x:hidden;
      }
      a{ color:inherit; text-decoration:none }
      img{ display:block; max-width:100% }
      .sr-only{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden }

      /* Canvas subtil cu linii lente */
      #bg-canvas{ position:fixed; inset:0; z-index:-1; display:block }
      .bg-vignette{ position:fixed; inset:0; z-index:-1; pointer-events:none; background:
        radial-gradient(60% 60% at 80% 10%, rgba(245,212,107,.06), transparent 60%),
        radial-gradient(40% 40% at 20% 70%, rgba(179,139,46,.08), transparent 65%),
        radial-gradient(70% 70% at 50% 50%, rgba(0,0,0,.55), transparent 70%);
        filter: saturate(105%);
      }

      /* Layout aliniat la dreapta */
      .container{ width:100%; max-width:var(--maxw); margin-left:auto; margin-right:0; padding:0 20px; text-align:right }
      header.navbar{ position:sticky; top:0; backdrop-filter:saturate(140%) blur(10px);
        background: color-mix(in srgb, #0c0c0c 70%, transparent);
        border-bottom:1px solid var(--border); z-index:50 }
      .nav-inner{ display:flex; align-items:center; justify-content:flex-end; gap:16px; padding:14px 0 }
      .brand{ margin-left:auto; order:2; display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px }
      .nav-links{ order:1; display:flex; gap:18px; flex-wrap:wrap }
      .nav-links a{ padding:10px 12px; border-radius:10px; opacity:.9 }
      .nav-links a:hover{ background:rgba(245,212,107,.12); opacity:1 }

      .hero{ position:relative; padding:96px 0 42px }
      .hero-inner{ margin-left:auto; max-width:860px }
      h1{ font-size: clamp(36px, 5vw, 64px); line-height:1.05; margin:0 0 14px }
      .accent{ color:var(--accent) }
      .lead{ font-size: clamp(16px, 2.2vw, 20px); color:var(--muted); margin:0 0 26px }
      .cta{ display:flex; align-items:center; gap:12px; flex-wrap:wrap; justify-content:flex-end }

      .badge{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid var(--border); border-radius:999px; font-weight:600; font-size:13px; background:rgba(245,212,107,.07) }

      .btn{ display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:12px 16px; border-radius:12px; border:1px solid var(--border); box-shadow:var(--shadow); font-weight:600; transition:transform .15s ease, background .2s ease, border-color .2s ease }
      .btn.small{ padding:9px 12px; font-weight:600; font-size:14px }
      .btn.primary{ background:linear-gradient(135deg, var(--accent), var(--accent-2)); color:#1a1400; border-color:transparent }
      .btn.primary:hover{ transform:translateY(-1px) scale(1.01) }
      .btn.ghost{ background:rgba(245,212,107,.08) }
      .btn.ghost:hover{ background:rgba(245,212,107,.14) }

      .section{ padding:60px 0 }
      .section h2{ font-size: clamp(26px, 3vw, 34px); margin:0 0 18px }

      .grid{ display:grid; gap:16px; justify-items:end }
      .grid.two{ grid-template-columns:repeat(1,1fr) }
      .grid.three{ grid-template-columns:repeat(1,1fr) }
      @media (min-width:860px){ .grid.two{ grid-template-columns:repeat(2, minmax(0,1fr)) } .grid.three{ grid-template-columns:repeat(3, minmax(0,1fr)) } }

      .card{ background:linear-gradient(180deg, var(--card), var(--card-2)); border:1px solid var(--border); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow) }
      .card:hover{ border-color: color-mix(in srgb, var(--accent-2) 45%, var(--border)) }
      .card h3{ margin: 6px 0 8px; font-size:20px }
      .card p{ margin:0; color:var(--muted) }

      /* Rame foto auriu crom */
      .frame{ border-radius:14px; border:1px solid #3a3a3a; padding:8px; background: linear-gradient(180deg, #1a1a1a, #101010); box-shadow: 0 1px 0 rgba(255,255,255,.05) inset, 0 0 0 1px rgba(255,215,130,.08), 0 10px 30px rgba(0,0,0,.4) }
      .frame img{ border-radius:10px; border:1px solid #2a2a2a }
      .bevel{ position:relative }
      .bevel:before{ content:""; position:absolute; inset:0; border-radius:14px; pointer-events:none; background: linear-gradient(135deg, rgba(245,212,107,.35), rgba(179,139,46,.0) 35%, rgba(255,255,255,.08) 60%, rgba(0,0,0,0) 100%); mix-blend-mode:screen; opacity:.5 }

      .product-img{ width:100%; border-radius:12px; border:1px solid var(--border) }
      .price.card{ text-align:right }
      .price .money{ font-size:32px; font-weight:800; margin:2px 0 8px; background: linear-gradient(135deg,var(--accent),#fff); -webkit-background-clip:text; background-clip:text; color:transparent }
      .price.featured{ border-color: color-mix(in srgb, var(--accent) 40%, var(--border)); box-shadow: 0 0 0 1px rgba(245,212,107,.15), var(--shadow) }

      .cta-band{ position:relative; margin: 10px 0 0; padding: 18px; border:1px dashed var(--border); border-radius:var(--radius); background: rgba(245,212,107,.06) }
      .pricing-note{ color:var(--muted); margin-top:10px; font-size:14px }

      .faq{ max-width:900px; margin-left:auto }
      details.faq-item{ background:linear-gradient(180deg, var(--card), var(--card-2)); border:1px solid var(--border); border-radius:var(--radius); padding:16px; margin:10px 0 }
      details.faq-item summary{ cursor:pointer; list-style:none; font-weight:700 }
      details.faq-item[open]{ border-color: color-mix(in srgb, var(--accent-2) 38%, var(--border)) }
      details.faq-item p{ color:var(--muted); margin: 10px 0 0 }

      .form{ display:grid; gap:12px; max-width:680px; margin-left:auto }
      label{ display:grid; gap:6px; font-weight:600 }
      input, textarea, select{ background:#0e0e0e; color:var(--text); border:1px solid var(--border); border-radius:12px; padding:12px; outline:none }
      input:focus, textarea:focus, select:focus{ border-color: color-mix(in srgb, var(--accent) 50%, var(--border)) }

      .footer{ border-top:1px solid var(--border); padding:22px 0; color:var(--muted); font-size:14px }
      .links{ display:flex; gap:16px; flex-wrap:wrap; justify-content:flex-end }

      /* Tranziții slide între secțiuni */
      .section{ opacity:0; transform:translateX(40px); transition: opacity .5s ease, transform .6s ease }
      .section.is-visible{ opacity:1; transform:translateX(0) }
      .slide-out{ animation: slideOut .45s ease both }
      @keyframes slideOut{ from{ opacity:1; transform:translateX(0) } to{ opacity:0; transform:translateX(-40px) } }

      /* Popup modal intrare */
      .modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1000; background: rgba(0,0,0,.5) }
      .modal.open{ display:flex }
      .modal-card{ width:min(520px, 92vw); background: linear-gradient(180deg, var(--card), var(--card-2)); border:1px solid var(--border); border-radius:var(--radius-lg); padding:20px; box-shadow: 0 20px 50px rgba(0,0,0,.6) }
      .modal-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px }
      .close{ border:none; background:transparent; color:var(--muted); font-size:22px; cursor:pointer }
    </style>
  </head>
  <body>
    <a class="sr-only" href="#content">Sari la conținut</a>
    <canvas id="bg-canvas" aria-hidden="true"></canvas>
    <div class="bg-vignette" aria-hidden="true"></div>

    <!-- Popup intrare -->
    <div class="modal" id="entryModal" role="dialog" aria-modal="true" aria-labelledby="m-title" aria-describedby="m-desc">
      <div class="modal-card bevel">
        <div class="modal-header">
          <h3 id="m-title" style="margin:0">Bine ai venit la RivoFit</h3>
          <button class="close" aria-label="Închide" id="m-close">×</button>
        </div>
        <p id="m-desc" style="color:var(--muted); margin:0 0 12px">Primești 10% reducere la primul PDF. Introdu emailul și îți trimitem codul.</p>
        <form name="promo" method="POST" data-netlify="true" class="form">
          <input type="hidden" name="form-name" value="promo" />
          <label style="text-align:left">
            Email
            <input type="email" name="email" required placeholder="nume@email.com" />
          </label>
          <button class="btn primary" type="submit">Trimite-mi codul</button>
        </form>
      </div>
    </div>

    <!-- Header / Navbar -->
    <header class="navbar" role="banner">
      <div class="container nav-inner">
        <nav class="nav-links" aria-label="Principal">
          <a href="#de-ce">De ce RivoFit</a>
          <a href="#galerie">Galerie</a>
          <a href="#produse">PDF-uri</a>
          <a href="#pret">Prețuri</a>
          <a href="#comanda">Comandă</a>
        </nav>
        <a href="#" class="brand" aria-label="RivoFit">
          <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 36 36'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0' stop-color='%23f5d46b'/%3E%3Cstop offset='1' stop-color='%23b38b2e'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='36' height='36' rx='8' fill='%230a0a0a'/%3E%3Cpath d='M9 24l6-12 6 12' stroke='url(%23g)' stroke-width='3' stroke-linecap='round' fill='none'/%3E%3C/svg%3E" alt="RivoFit logo" width="36" height="36" />
          <span>RivoFit</span>
        </a>
      </div>
    </header>

    <main id="content">
      <!-- Hero -->
      <section class="hero container section" aria-labelledby="hero-title">
        <div class="hero-inner">
          <span class="badge">PDF-uri descărcabile • antrenament & nutriție</span>
          <h1 id="hero-title">Calm, clar, <span class="accent">eficient</span>.</h1>
          <p class="lead">Planuri create pentru progres constant. Design curat, cu accente aurii pe negru mat, focus pe conținut — fără distrageri.</p>
          <div class="cta">
            <a class="btn primary" href="#produse">Vezi PDF-urile</a>
            <a class="btn ghost" href="#pret">Prețuri</a>
            <a class="btn ghost" href="#" id="toggle-anim">Pauză animație</a>
          </div>
          <div class="cta-band" role="note" aria-label="Notă performanță">
            Respectăm <em>Reduce Motion</em> și oferim tranziții line tip slide între secțiuni.
          </div>
        </div>
      </section>

      <!-- De ce -->
      <section id="de-ce" class="section container" aria-labelledby="why-title">
        <h2 id="why-title">De ce RivoFit</h2>
        <div class="grid three">
          <article class="card" aria-labelledby="f1">
            <h3 id="f1">Structură calmă</h3>
            <p>Programe clare, fără încărcare inutilă. Totul aranjat la dreapta pentru o citire focusată.</p>
          </article>
          <article class="card" aria-labelledby="f2">
            <h3 id="f2">Accente premium</h3>
            <p>Auriu crom pe negru mat + alb pentru contrast excelent și lizibilitate bună.</p>
          </article>
          <article class="card" aria-labelledby="f3">
            <h3 id="f3">Gata de print</h3>
            <p>PDF-uri optimizate A4, cu jurnale de progres și meniuri.</p>
          </article>
        </div>
      </section>

      <!-- Galerie cu mai multe rame foto -->
      <section id="galerie" class="section container" aria-labelledby="gal-title">
        <h2 id="gal-title">Galerie</h2>
        <div class="grid three">
          <figure class="frame bevel"><img alt="Greutăți și pieptenele luminii" src="https://images.unsplash.com/photo-1517836357463-d25dfeac3438?q=80&w=1000&auto=format&fit=crop"/></figure>
          <figure class="frame bevel"><img alt="Antrenament cu gantere" src="https://images.unsplash.com/photo-1558611848-73f7eb4001a1?q=80&w=1000&auto=format&fit=crop"/></figure>
          <figure class="frame bevel"><img alt="Tracțiuni la bară" src="https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?q=80&w=1000&auto=format&fit=crop"/></figure>
          <figure class="frame bevel"><img alt="Alergare bandă" src="https://images.unsplash.com/photo-1546483875-ad9014c88eba?q=80&w=1000&auto=format&fit=crop"/></figure>
          <figure class="frame bevel"><img alt="Kettlebell" src="https://images.unsplash.com/photo-1517963879433-6ad2b056d712?q=80&w=1000&auto=format&fit=crop"/></figure>
          <figure class="frame bevel"><img alt="Box și cardio" src="https://images.unsplash.com/photo-1542751110-97427bbecf20?q=80&w=1000&auto=format&fit=crop"/></figure>
        </div>
      </section>

      <!-- Produse (PDF-uri) -->
      <section id="produse" class="section container" aria-labelledby="products-title">
        <h2 id="products-title">PDF-uri de antrenament & nutriție</h2>
        <div class="grid three">
          <article class="card" aria-labelledby="p1-title">
            <img class="product-img" alt="PDF Începători — 8 săptămâni" src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500"><rect width="100%" height="100%" fill="%23111111"/><rect x="40" y="60" width="320" height="380" rx="14" fill="%23161616"/><text x="60" y="240" fill="%23ffffff" font-size="38" font-family="Inter, Arial">Începători</text><rect x="380" y="60" width="380" height="180" rx="14" fill="%23161616"/><rect x="380" y="260" width="380" height="180" rx="14" fill="%23161616"/></svg>' />
            <h3 id="p1-title" style="margin-top:12px;">Start • 8 săptămâni</h3>
            <p>Full‑body, 3 zile/săptămână + ghid nutriție.</p>
            <div class="cta" style="justify-content:flex-end;margin-top:12px;">
              <a class="btn small ghost" href="#pret">Detalii</a>
              <a class="btn small primary" href="#comanda" data-product="start">Cumpără</a>
            </div>
          </article>
          <article class="card" aria-labelledby="p2-title">
            <img class="product-img" alt="PDF Intermediar — 12 săptămâni" src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500"><rect width="100%" height="100%" fill="%23111111"/><rect x="40" y="60" width="720" height="240" rx="18" fill="%23161616"/><text x="60" y="200" fill="%23ffffff" font-size="38" font-family="Inter, Arial">Intermediar</text><circle cx="680" cy="380" r="80" fill="%23b38b2e" opacity="0.35"/></svg>' />
            <h3 id="p2-title" style="margin-top:12px;">Build • 12 săptămâni</h3>
            <p>Push/Pull/Legs sau Upper/Lower + meal‑plan pentru masă.</p>
            <div class="cta" style="justify-content:flex-end;margin-top:12px;">
              <a class="btn small ghost" href="#pret">Detalii</a>
              <a class="btn small primary" href="#comanda" data-product="pro">Cumpără</a>
            </div>
          </article>
          <article class="card" aria-labelledby="p3-title">
            <img class="product-img" alt="Pachet Complet" src='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="800" height="500"><rect width="100%" height="100%" fill="%23111111"/><g opacity="0.5"><circle cx="120" cy="120" r="70" fill="%23b38b2e"/><circle cx="220" cy="160" r="70" fill="%23f5d46b"/></g><text x="40" y="300" fill="%23ffffff" font-size="38" font-family="Inter, Arial">Pachet Complet</text></svg>' />
            <h3 id="p3-title" style="margin-top:12px;">Complete • 16 săptămâni</h3>
            <p>Program avansat + nutriție & suplimente + mindset & obiceiuri.</p>
            <div class="cta" style="justify-content:flex-end;margin-top:12px;">
              <a class="btn small ghost" href="#pret">Detalii</a>
              <a class="btn small primary" href="#comanda" data-product="team">Cumpără</a>
            </div>
          </article>
        </div>
      </section>

      <!-- Pricing -->
      <section id="pret" class="section container" aria-labelledby="pricing-title">
        <h2 id="pricing-title">Prețuri</h2>
        <div class="grid three">
          <div class="price card">
            <h3>Start</h3>
            <p class="money">€19</p>
            <p>Utilizare personală</p>
            <a class="btn small ghost" href="#comanda" data-product="start">Cumpără</a>
          </div>
          <div class="price card featured">
            <h3>Build</h3>
            <p class="money">€49</p>
            <p>Utilizare personală</p>
            <a class="btn small primary" href="#comanda" data-product="pro">Cumpără</a>
          </div>
          <div class="price card">
            <h3>Complete</h3>
            <p class="money">€99</p>
            <p>Licență extinsă</p>
            <a class="btn small ghost" href="#comanda" data-product="team">Cumpără</a>
          </div>
        </div>
        <p class="pricing-note">Primești link de descărcare pe email după plată.</p>
      </section>

      <!-- Comandă -->
      <section id="comanda" class="section container" aria-labelledby="order-title">
        <h2 id="order-title">Comandă</h2>
        <form name="order" method="POST" data-netlify="true" class="form">
          <input type="hidden" name="form-name" value="order" />
          <label>
            Alege produsul
            <select name="product" required>
              <option value="Start €19">Start — €19</option>
              <option value="Build €49">Build — €49</option>
              <option value="Complete €99">Complete — €99</option>
            </select>
          </label>
          <label>
            Nume
            <input name="name" required />
          </label>
          <label>
            Email
            <input name="email" type="email" required />
          </label>
          <label>
            Mesaj (opțional)
            <textarea name="message" rows="4" placeholder="Ex: factură pe firmă"></textarea>
          </label>
          <button class="btn primary" type="submit">Plasează comanda</button>
          <p class="pricing-note">Pentru checkout automat: Stripe / Gumroad / Lemon Squeezy.</p>
        </form>
      </section>
    </main>

    <footer class="container footer" role="contentinfo">
      <div style="display:flex; align-items:center; justify-content:flex-end; gap:12px; flex-wrap:wrap">
        <nav class="links" aria-label="Legal">
          <a href="#">Termeni</a>
          <a href="#">Confidențialitate</a>
          <a href="#comanda">Contact</a>
        </nav>
        <p>© <span id="year"></span> RivoFit</p>
      </div>
    </footer>

    <script>
      // Anul curent
      document.getElementById('year').textContent = new Date().getFullYear();

      // Popup intrare (o singură dată / 7 zile)
      const modal = document.getElementById('entryModal');
      const closeBtn = document.getElementById('m-close');
      const last = localStorage.getItem('rf_modal_ts');
      const now = Date.now();
      const WEEK = 7*24*60*60*1000;
      if(!last || (now - Number(last)) > WEEK){ modal.classList.add('open'); }
      closeBtn.addEventListener('click', ()=>{ modal.classList.remove('open'); localStorage.setItem('rf_modal_ts', String(Date.now())); });
      modal.addEventListener('click', (e)=>{ if(e.target===modal){ closeBtn.click(); } });

      // Preselectează produsul pe click
      document.addEventListener('click', (e)=>{
        const btn = e.target.closest('[data-product]');
        if(!btn) return;
        const map = { start: 'Start €19', pro: 'Build €49', team: 'Complete €99' };
        const form = document.querySelector('form[name="order"]');
        if(form){ form.product.value = map[btn.dataset.product]; document.getElementById('order-title').scrollIntoView({behavior:'smooth'}); }
      });

      // Tranziții slide între secțiuni
      const sections = [...document.querySelectorAll('.section')];
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(en=>{ if(en.isIntersecting){ en.target.classList.add('is-visible'); } });
      },{ threshold:.1 });
      sections.forEach(s=> io.observe(s));

      // Slide la navigare
      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click', (e)=>{
          const href = a.getAttribute('href');
          if(!href || href.length<2) return;
          e.preventDefault();
          const target = document.querySelector(href);
          if(!target) return;
          const current = sections.find(s=>{
            const r = s.getBoundingClientRect();
            return r.top <= 80 && r.bottom >= 160; // secțiunea aproximativ vizibilă
          });
          if(current){
            current.classList.add('slide-out');
            setTimeout(()=>{
              target.scrollIntoView({behavior:'smooth'});
              current.classList.remove('slide-out');
            }, 300);
          } else {
            target.scrollIntoView({behavior:'smooth'});
          }
        });
      });

      // Canvas: linii lente aurii
      (function(){
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let w, h, dpr;
        let rafId, running = true;
        const RM = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

        const LINES = 26;            // mai puține, mai calm
        const SEGMENTS = 12;
        const SPEED = 0.0010;        // mai încet
        const AMPL = 80;             // amplitudine redusă
        const PARTICLES = 60;        // particule mai puține

        const lines = []; // { hue, offset }
        const particles = []; // {x,y,vx,vy,life}

        function resize(){
          dpr = Math.min(window.devicePixelRatio || 1, 2);
          w = canvas.width = Math.floor(innerWidth * dpr);
          h = canvas.height = Math.floor(innerHeight * dpr);
          canvas.style.width = innerWidth + 'px';
          canvas.style.height = innerHeight + 'px';
        }
        window.addEventListener('resize', resize, { passive:true });
        resize();

        for(let i=0;i<LINES;i++) lines.push({ hue: 45 + Math.random()*20, offset: Math.random()*1000 });
        for(let i=0;i<PARTICLES;i++) particles.push(spawnParticle());

        function spawnParticle(){
          const angle = Math.random()*Math.PI*2;
          const speed = (Math.random()*0.4+0.1) * (RM? 0.2 : 1);
          return { x: Math.random()*w, y: Math.random()*h, vx: Math.cos(angle)*speed, vy: Math.sin(angle)*speed, life: Math.random()*260 + 160 };
        }
        function noise2D(x, y){ const n = Math.sin(x*12.9898 + y*78.233) * 43758.5453; return n - Math.floor(n); }
        let t = 0;
        function draw(){
          if(!running){ rafId = requestAnimationFrame(draw); return; }
          t += SPEED * (RM? 0.3 : 1);
          ctx.fillStyle = 'rgba(10,10,10,0.35)';
          ctx.fillRect(0,0,w,h);

          ctx.save();
          ctx.globalCompositeOperation = 'lighter';
          for(let i=0;i<LINES;i++){
            const yBase = (i/(LINES-1))*h;
            const hue = lines[i].hue; // 45..65 (auriu)
            ctx.lineWidth = 1.1 * dpr;
            const grad = ctx.createLinearGradient(0, yBase, w, yBase);
            grad.addColorStop(0, `hsla(${hue}, 85%, 68%, 0.04)`);
            grad.addColorStop(0.5, `hsla(${hue+5}, 95%, 62%, 0.22)`);
            grad.addColorStop(1, `hsla(${hue}, 85%, 68%, 0.04)`);
            ctx.strokeStyle = grad;
            ctx.beginPath();
            for(let s=0; s<=SEGMENTS; s++){
              const x = (s/SEGMENTS) * w;
              const n = noise2D(x*0.0007 + lines[i].offset, t + i*0.03);
              const y = yBase + (n - 0.5) * AMPL * (RM? .4 : 1);
              if(s===0) ctx.moveTo(x,y); else ctx.lineTo(x,y);
            }
            ctx.stroke();
          }
          ctx.restore();

          for(let p of particles){
            p.x += p.vx; p.y += p.vy; p.life -= 1;
            if(p.x<0||p.x>w||p.y<0||p.y>h||p.life<=0){ Object.assign(p, spawnParticle()); }
            const g = ctx.createRadialGradient(p.x,p.y,0, p.x,p.y, 22*dpr);
            g.addColorStop(0, 'rgba(245,212,107,0.12)');
            g.addColorStop(1, 'rgba(179,139,46,0)');
            ctx.fillStyle = g; ctx.beginPath(); ctx.arc(p.x,p.y, 22*dpr, 0, Math.PI*2); ctx.fill();
          }

          rafId = requestAnimationFrame(draw);
        }
        if(!RM) rafId = requestAnimationFrame(draw);

        // Pauză animație
        const toggleBtn = document.getElementById('toggle-anim');
        function updateToggle(){ if(toggleBtn) toggleBtn.textContent = running ? 'Pauză animație' : 'Pornește animația'; }
        toggleBtn?.addEventListener('click', (e)=>{ e.preventDefault(); running = !running; updateToggle(); });
        updateToggle();

        document.addEventListener('visibilitychange', ()=>{ running = document.hidden ? false : !RM; updateToggle(); });
      })();
    </script>
  </body>
</html>
