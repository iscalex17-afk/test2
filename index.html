<!doctype html>
<html lang="ro">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rivo — Prompts & AI Workflows • Skill-to-Earn Micro-Courses</title>
<meta name="description" content="Rivo: Prompts & AI Workflows, micro-cursuri Skill-to-Earn. Coș, one-time & abonamente, certificate, glow futurist, pop-up, slider exemple, FAQ.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0' stop-color='%239467F5'/%3E%3Cstop offset='1' stop-color='%2300D1FF'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='36' height='36' rx='8' fill='%23090B10'/%3E%3Cpath d='M10 24l8-12 8 12' stroke='url(%23g)' stroke-width='3' stroke-linecap='round' fill='none'/%3E%3C/svg%3E" type="image/svg+xml">
<style>
:root{
  --bg:#07080d; --bg-soft:#0b0f19; --card:#0f1424;
  --text:#eef2ff; --muted:#b7c1e1; --edge:#1a2140;
  --glow-1:#7c5cff; --glow-2:#22d3ee; --glow-3:#f5d46b;
  --accent:#8b5cf6; --accent-2:#06b6d4;
  --radius:16px; --radius-lg:22px; --maxw:1180px;
  --shadow:0 10px 30px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.02);
}
*{box-sizing:border-box} html,body{height:100%} html{scroll-behavior:smooth}
body{margin:0; font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--text);
  background:
    radial-gradient(120% 120% at 10% -10%, rgba(139,92,246,.18), transparent 50%),
    radial-gradient(120% 120% at 110% 10%, rgba(34,211,238,.14), transparent 50%), var(--bg);
  overflow-x:hidden}
a{color:inherit; text-decoration:none} img{display:block; max-width:100%}
.sr-only{position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden}

/* fx bg + scanlines glow */
.fx-bg{position:fixed; inset:0; z-index:-2; pointer-events:none; background:
  radial-gradient(80% 60% at 50% -10%, rgba(139,92,246,.25), transparent 55%),
  radial-gradient(60% 50% at 120% 20%, rgba(34,211,238,.18), transparent 60%),
  radial-gradient(60% 60% at -20% 120%, rgba(245,212,107,.10), transparent 60%);
  filter:saturate(105%) contrast(102%);
}
.gridlines:before{content:""; position:fixed; inset:0; z-index:-1; pointer-events:none;
  background-image: linear-gradient(rgba(124,92,255,.06) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(124,92,255,.06) 1px, transparent 1px);
  background-size: 28px 28px; mask-image: radial-gradient(80% 60% at 50% 10%, rgba(255,255,255,.9), transparent 70%);}

/* layout & nav */
.container{width:100%; max-width:var(--maxw); margin:0 auto; padding:0 20px}
header.nav{position:sticky; top:0; z-index:60; border-bottom:1px solid var(--edge);
  backdrop-filter:saturate(140%) blur(10px);
  background:linear-gradient(180deg, rgba(11,15,25,.75), rgba(11,15,25,.55));}
.nav-inner{display:flex; align-items:center; justify-content:space-between; gap:16px; padding:14px 0}
.brand{display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px}
.brand .dot{width:8px; height:8px; border-radius:999px; background:radial-gradient(circle at 40% 40%, var(--glow-2), var(--glow-1)); box-shadow:0 0 14px var(--glow-2)}
.nav-links{display:flex; gap:14px; align-items:center; flex-wrap:wrap}
.nav-links a{padding:9px 12px; border-radius:10px; opacity:.92}
.nav-links a:hover{background:rgba(124,92,255,.12); box-shadow:0 0 20px rgba(124,92,255,.25) inset; opacity:1}
.cta-top{display:flex; gap:10px; align-items:center}
.cart-btn{position:relative}
.badge{position:absolute; top:-6px; right:-6px; min-width:18px; height:18px; padding:0 6px;
  display:inline-flex; align-items:center; justify-content:center; font-size:12px; border-radius:999px;
  background:linear-gradient(135deg, var(--glow-1), var(--glow-2)); color:#061019; font-weight:800}

/* buttons */
.btn{display:inline-flex; align-items:center; justify-content:center; gap:10px; padding:11px 16px; border-radius:12px; border:1px solid var(--edge); box-shadow:var(--shadow); font-weight:700; transition:transform .15s ease, box-shadow .2s ease, background .2s ease}
.btn.small{padding:8px 12px; font-size:14px}
.btn.primary{background:radial-gradient(120% 120% at 0% 0%, rgba(124,92,255,.35), transparent 50%),
  radial-gradient(120% 120% at 100% 0%, rgba(34,211,238,.28), transparent 50%), var(--bg-soft);
  border-color:transparent}
.btn.primary:hover{transform:translateY(-1px) scale(1.01); box-shadow:0 0 24px rgba(124,92,255,.35), 0 0 28px rgba(34,211,238,.25)}
.btn.ghost{background:rgba(124,92,255,.10)}
.btn.ghost:hover{background:rgba(124,92,255,.18)}

/* type / hero */
h1{font-size:clamp(36px, 5vw, 68px); line-height:1.05; margin:0 0 14px}
h2{font-size:clamp(26px, 3.2vw, 38px); margin:0 0 16px}
.muted{color:var(--muted)} .lead{font-size:clamp(16px, 2vw, 20px)}
.kbd{display:inline-block; padding:6px 10px; border-radius:8px; border:1px solid var(--edge); background:rgba(255,255,255,.03); font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-size:12px}
.hero{position:relative; padding:92px 0 54px}
.hero-inner{max-width:920px; margin:0 auto; text-align:center}
.glow-title{background:linear-gradient(135deg, #fff, #a5b4fc 35%, #7c5cff 60%, #22d3ee 95%); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow:0 0 30px rgba(124,92,255,.2)}
.hero-cta{display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:14px}
.note{margin-top:12px; font-size:13px; color:#c9d4ff}

/* sections / cards */
.section{padding:70px 0; opacity:0; transform:translateY(24px); transition:opacity .6s ease, transform .6s ease}
.section.is-visible{opacity:1; transform:translateY(0)}
.grid{display:grid; gap:16px}
.two{grid-template-columns:repeat(1, minmax(0,1fr))}
.three{grid-template-columns:repeat(1, minmax(0,1fr))}
@media (min-width:900px){ .two{grid-template-columns:repeat(2,1fr)} .three{grid-template-columns:repeat(3,1fr)} }
.card{background:linear-gradient(180deg, rgba(15,20,36,.92), rgba(11,15,25,.92)); border:1px solid var(--edge); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow)}
.card h3{margin:8px 0 6px; font-size:20px}

/* slider */
.slider{position:relative; overflow:hidden; border:1px solid var(--edge); border-radius:var(--radius); background:var(--card)}
.slides{display:flex; transition:transform .5s ease}
.slide{min-width:100%; padding:18px; display:grid; gap:12px}
.prompt{background:#0b1020; border:1px solid var(--edge); border-radius:12px; padding:14px}
.resp{background:#0c1226; border:1px solid var(--edge); border-radius:12px; padding:14px}
.nav-btn{position:absolute; top:50%; transform:translateY(-50%); background:rgba(124,92,255,.2); border:1px solid var(--edge); border-radius:12px; padding:8px 10px; cursor:pointer}
.nav-btn:hover{background:rgba(124,92,255,.3)}
.prev{left:10px} .next{right:10px}

/* gallery */
.gallery{display:grid; grid-template-columns:repeat(1, minmax(0,1fr)); gap:14px}
@media (min-width:800px){ .gallery{grid-template-columns:repeat(3,1fr)} }
.frame{border-radius:14px; border:1px solid var(--edge); padding:8px; background:linear-gradient(180deg,#0d1224,#0a0f20); box-shadow:0 1px 0 rgba(255,255,255,.03) inset, 0 0 0 1px rgba(124,92,255,.12), 0 12px 32px rgba(0,0,0,.45)}
.frame img{border-radius:10px; border:1px solid #141a34}

/* testimonials */
.quote{font-style:italic}
.avatar{width:36px; height:36px; border-radius:999px; border:1px solid var(--edge); object-fit:cover}
.row{display:flex; align-items:center; gap:10px}

/* pricing */
.pricing{display:grid; gap:16px}
@media (min-width:880px){ .pricing{grid-template-columns:repeat(3,1fr)} }
.price{text-align:center}
.money{font-size:34px; font-weight:800; margin:6px 0 8px; background:linear-gradient(135deg,#fff,#a5b4fc 40%, #7c5cff 70%); -webkit-background-clip:text; background-clip:text; color:transparent}
.featured{border-color:rgba(124,92,255,.45); box-shadow:0 0 0 1px rgba(124,92,255,.25), var(--shadow)}
.toggle{display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:12px}
.switch{position:relative; width:56px; height:28px; background:#111834; border:1px solid var(--edge); border-radius:999px; cursor:pointer}
.knob{position:absolute; top:2px; left:2px; width:24px; height:24px; border-radius:999px; background:radial-gradient(circle at 40% 40%, var(--glow-2), var(--glow-1)); box-shadow:0 0 16px rgba(34,211,238,.5); transition:left .2s ease}
.switch.on .knob{left:30px}

/* forms + footer */
.form{display:grid; gap:12px; max-width:700px; margin:0 auto}
label{display:grid; gap:6px; font-weight:700}
input, textarea, select{background:#0b1020; color:var(--text); border:1px solid var(--edge); border-radius:12px; padding:12px; outline:none}
input:focus, textarea:focus, select:focus{border-color:rgba(124,92,255,.6); box-shadow:0 0 0 3px rgba(124,92,255,.18)}
footer{border-top:1px solid var(--edge); padding:26px 0; color:var(--muted); font-size:14px}
.links{display:flex; gap:14px; flex-wrap:wrap; justify-content:center}

/* modal */
.modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:1000; background:rgba(3,6,14,.6); backdrop-filter:blur(6px)}
.modal.open{display:flex}
.modal-card{ width:min(560px, 92vw); background:linear-gradient(180deg, rgba(15,20,36,.96), rgba(11,15,25,.96)); border:1px solid var(--edge); border-radius:var(--radius-lg); padding:20px; box-shadow:0 24px 60px rgba(0,0,0,.7)}
.modal-header{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px}
.close{border:none; background:transparent; color:var(--muted); font-size:22px; cursor:pointer}

/* table */
.table{width:100%; border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--edge); padding:10px; text-align:left}
.table th{color:#cfe3ff; font-weight:800}
</style>
</head>
<body class="gridlines">
<a class="sr-only" href="#content">Sari la conținut</a>
<div class="fx-bg" aria-hidden="true"></div>

<!-- POPUP lead -->
<div class="modal" id="entryModal" role="dialog" aria-modal="true" aria-labelledby="m-title" aria-describedby="m-desc">
  <div class="modal-card">
    <div class="modal-header">
      <h3 id="m-title" style="margin:0">Bine ai venit la <span class="glow-title">Rivo</span></h3>
      <button class="close" aria-label="Închide" id="m-close">×</button>
    </div>
    <p id="m-desc" class="muted" style="margin:0 0 12px">Activează <strong>trial 14 zile</strong> sau primește resurse gratuite despre Prompts & AI Workflows.</p>
    <form name="lead" method="POST" data-netlify="true" class="form">
      <input type="hidden" name="form-name" value="lead" />
      <label>Email <input type="email" name="email" required placeholder="nume@email.com" /></label>
      <button class="btn primary" type="submit">Vreau acces</button>
    </form>
  </div>
</div>

<header class="nav" role="banner">
  <div class="container nav-inner">
    <a class="brand" href="#/" aria-label="Rivo"><span class="dot"></span><span>Rivo</span></a>
    <nav class="nav-links" aria-label="Principal">
      <a href="#/workflows">Workflows</a>
      <a href="#/courses">Cursuri</a>
      <a href="#/exemple">Exemple</a>
      <a href="#/preturi">Prețuri</a>
      <a href="#/faq">FAQ</a>
    </nav>
    <div class="cta-top">
      <a class="btn ghost small" href="#/dashboard">Contul meu</a>
      <a class="btn primary small cart-btn" href="#/cart">Coș <span class="badge" id="cart-count">0</span></a>
    </div>
  </div>
</header>

<main id="content">
  <!-- HERO -->
  <section class="hero container section" data-route="home" aria-labelledby="hero-title">
    <div class="hero-inner">
      <span class="kbd">Skill-to-Earn</span>
      <h1 id="hero-title" class="glow-title">Automatizează-ți creativitatea cu AI</h1>
      <p class="lead muted">Rivo transformă prompt-urile în <strong>workflows</strong> și micro-cursuri aplicate. Învață rapid, câștigă badge-uri și certificări.</p>
      <div class="hero-cta">
        <a class="btn primary" href="#/courses">Vezi cursurile</a>
        <a class="btn ghost" href="#/workflows">Cum funcționează</a>
      </div>
      <p class="note">Apasă <span class="kbd">G</span><span class="kbd">G</span> pentru căutare globală (demo UI).</p>
    </div>
  </section>

  <!-- WORKFLOWS -->
  <section class="section container" data-route="workflows" aria-labelledby="w-title" style="display:none">
    <h2 id="w-title">Cum funcționează Rivo</h2>
    <div class="grid two">
      <article class="card"><h3>1) Definire Prompt</h3><p class="muted">Scrii ce vrei. Rivo propune pașii workflow-ului.</p></article>
      <article class="card"><h3>2) Configurare no-code</h3><p class="muted">Conectori Sheets/Docs/CRM/Email. Preview în timp real.</p></article>
      <article class="card"><h3>3) Rulare & Monitorizare</h3><p class="muted">Execuții, log-uri, alerte.</p></article>
      <article class="card"><h3>4) Învățare continuă</h3><p class="muted">Feedback-ul îmbunătățește rezultatele.</p></article>
    </div>
  </section>

  <!-- CATALOG CURSURI -->
  <section class="section container" data-route="courses" aria-labelledby="c-title" style="display:none">
    <h2 id="c-title">Micro-cursuri & Pachete Prompts</h2>
    <div class="grid three" id="course-grid"><!-- populat din JS --></div>
  </section>

  <!-- EXEMPLE (slider) -->
  <section class="section container" data-route="exemple" aria-labelledby="ex-title" style="display:none">
    <h2 id="ex-title">Exemple de Prompts</h2>
    <div class="slider" aria-roledescription="carousel">
      <div class="slides" id="slides">
        <div class="slide" aria-label="Slide 1">
          <div class="prompt"><strong>Prompt:</strong> Rezumă vânzările săptămânale și trimite email echipei.</div>
          <div class="resp"><strong>Workflow:</strong> Sheets → Analiză AI → Raport → Email.</div>
        </div>
        <div class="slide" aria-label="Slide 2">
          <div class="prompt"><strong>Prompt:</strong> Oraș futurist la apus, stil synthwave.</div>
          <div class="resp"><strong>Rezultat:</strong> 3 imagini AI + link descărcare.</div>
        </div>
        <div class="slide" aria-label="Slide 3">
          <div class="prompt"><strong>Prompt:</strong> Analizează sentiment recenzii din ultima lună.</div>
          <div class="resp"><strong>Workflow:</strong> Import CSV → NLP → Dashboard.</div>
        </div>
      </div>
      <button class="nav-btn prev" id="prev">◀</button>
      <button class="nav-btn next" id="next">▶</button>
    </div>
  </section>

  <!-- PREȚURI + TOGGLE + ABONAMENTE -->
  <section class="section container" data-route="preturi" aria-labelledby="p-title" style="display:none">
    <h2 id="p-title">Planuri & Prețuri</h2>
    <div class="toggle">
      <span>Plată lunar</span>
      <div id="billing" class="switch" role="switch" aria-checked="false" tabindex="0"><div class="knob"></div></div>
      <span>Plată anual (-20%)</span>
    </div>
    <div class="pricing">
      <article class="card price">
        <h3>Basic</h3>
        <p class="money" data-month="€9/lună" data-year="€7/lună">€9/lună</p>
        <p class="muted">Pentru începători</p>
        <ul class="muted" style="line-height:1.8"><li>Workflow-uri de bază</li><li>Conectori populari</li><li>Suport comunitate</li></ul>
        <div class="row" style="justify-content:center; gap:10px">
          <button class="btn ghost small" data-sub="basic-month">Abonare lunar</button>
          <button class="btn primary small" data-sub="basic-year">Abonare anual</button>
        </div>
      </article>
      <article class="card price featured">
        <h3>Pro</h3>
        <p class="money" data-month="€29/lună" data-year="€23/lună">€29/lună</p>
        <p class="muted">Pentru profesioniști</p>
        <ul class="muted" style="line-height:1.8"><li>Toți conectorii</li><li>Execuții nelimitate</li><li>Monitorizare & alerte</li></ul>
        <div class="row" style="justify-content:center; gap:10px">
          <button class="btn ghost small" data-sub="pro-month">Abonare lunar</button>
          <button class="btn primary small" data-sub="pro-year">Abonare anual</button>
        </div>
      </article>
      <article class="card price">
        <h3>Enterprise</h3>
        <p class="money" data-month="Contact" data-year="Contact">Contact</p>
        <p class="muted">Pentru echipe mari</p>
        <ul class="muted" style="line-height:1.8"><li>SSO, SLA, Onboarding</li><li>Integrare custom</li><li>Suport dedicat</li></ul>
        <a class="btn ghost small" href="#/contact">Contactează-ne</a>
      </article>
    </div>
    <p class="muted" style="margin-top:10px; text-align:center">Vrei doar un produs? Folosește <a href="#/courses" style="text-decoration:underline">cumpărarea one-time</a> pe fiecare card.</p>
  </section>

  <!-- COȘ -->
  <section class="section container" data-route="cart" aria-labelledby="cart-title" style="display:none">
    <h2 id="cart-title">Coș</h2>
    <div id="cart-view" class="card"></div>
    <div class="row" style="justify-content:space-between; margin-top:12px">
      <a class="btn ghost" href="#/courses">Continuă cumpărăturile</a>
      <button class="btn primary" id="btn-checkout">Plătește (one-time)</button>
    </div>
    <p class="muted" style="font-size:13px; margin-top:8px">Abonamentele se cumpără din <a href="#/preturi" style="text-decoration:underline">Prețuri</a>.</p>
  </section>

  <!-- DASHBOARD (demo) -->
  <section class="section container" data-route="dashboard" aria-labelledby="d-title" style="display:none">
    <h2 id="d-title">Dashboard</h2>
    <div class="grid two">
      <article class="card">
        <h3>Cursurile tale</h3>
        <table class="table" id="my-courses"><thead><tr><th>Curs</th><th>Stare</th><th>Acțiuni</th></tr></thead><tbody></tbody></table>
      </article>
      <article class="card">
        <h3>Badge-uri & Certificate</h3>
        <p class="muted" id="badges">Finalizează un curs pentru a obține primul tău badge 🏅</p>
      </article>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section container" data-route="faq" aria-labelledby="f-title" style="display:none">
    <h2 id="f-title">Întrebări frecvente</h2>
    <div class="grid two">
      <article class="card"><h3>Ce metode de plată acceptați?</h3><p class="muted">Stripe (card). Plățile sunt securizate.</p></article>
      <article class="card"><h3>Acces pe viață la cursuri?</h3><p class="muted">Da, pentru produsele one-time. Abonamentele oferă acces cât timp sunt active.</p></article>
      <article class="card"><h3>Primesc certificat?</h3><p class="muted">După finalizarea cursului primești certificat digital & badge.</p></article>
      <article class="card"><h3>Pot cere ramburs?</h3><p class="muted">Dacă nu ești mulțumit în 7 zile, scrie-ne — analizăm cazul.</p></article>
    </div>
  </section>
</main>

<footer class="container" role="contentinfo">
  <div class="links" aria-label="Legal">
    <a href="#/terms">Termeni</a>
    <a href="#/privacy">Confidențialitate</a>
    <a href="#/contact">Contact</a>
  </div>
  <p style="text-align:center; margin:10px 0 0">© <span id="year"></span> Rivo — Prompts & AI Workflows</p>
</footer>

<script>
// YEAR
document.getElementById('year').textContent = new Date().getFullYear();

// POPUP 1/7 zile
const modal = document.getElementById('entryModal');
const closeBtn = document.getElementById('m-close');
const last = localStorage.getItem('rivo_modal_ts');
const now = Date.now();
const WEEK = 7*24*60*60*1000;
if(!last || (now - Number(last)) > WEEK){ modal.classList.add('open'); }
closeBtn.addEventListener('click', ()=>{ modal.classList.remove('open'); localStorage.setItem('rivo_modal_ts', String(Date.now())); });
modal.addEventListener('click', (e)=>{ if(e.target===modal){ closeBtn.click(); } });

// REVEAL on scroll
const sections = [...document.querySelectorAll('.section')];
const io = new IntersectionObserver((entries)=>{ entries.forEach(en=>{ if(en.isIntersecting){ en.target.classList.add('is-visible'); } }); },{ threshold:.12 });
sections.forEach(s=> io.observe(s));

// HERO fake global search (GG)
let gCount = 0; let lastKeyTime = 0;
window.addEventListener('keydown', (e)=>{
  const t = Date.now(); if(t - lastKeyTime > 450) gCount = 0; lastKeyTime = t;
  if(e.key.toLowerCase()==='g'){ gCount++; if(gCount===2){ alert('Căutare globală (demo) — scrie promptul tău.'); gCount=0; } }
});

// ROUTER simplu (#/...)
const routes = [...document.querySelectorAll('[data-route]')];
function showRoute(r){
  let found = false;
  routes.forEach(sec=>{
    const match = ('#/' + sec.dataset.route) === r || (r === '#/' && sec.dataset.route === 'home');
    sec.style.display = match ? '' : 'none';
    if(match) found = true;
  });
  if(!found){ location.hash = '#/'; }
  window.scrollTo({top:0, behavior:'smooth'});
}
window.addEventListener('hashchange', ()=> showRoute(location.hash));
showRoute(location.hash || '#/');

// Catalog produse/cursuri — include pachetul „20 Prompts pentru AI”
const CATALOG = [
  { id:'ai-prompts-20', title:'20 Prompts pentru AI', price:19, img:'https://images.unsplash.com/photo-1518779578993-ec3579fee39f?w=1200&q=80&auto=format&fit=crop', desc:'Colecție premium de 20 prompts testate pentru workflow-uri GPT.' },
  { id:'wf-templates-60', title:'60 Workflow Templates', price:49, img:'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?w=1200&q=80&auto=format&fit=crop', desc:'Șabloane no-code: automatizări email, rapoarte, imagini AI.' },
  { id:'course-prompt-pro', title:'Curs: Prompt-Engineering PRO', price:99, img:'https://images.unsplash.com/photo-1551281044-8d8d2aa1a24d?w=1200&q=80&auto=format&fit=crop', desc:'Micro-curs intensiv + certificat. Acces pe viață.' }
];

function renderCatalog(){
  const grid = document.getElementById('course-grid');
  grid.innerHTML = '';
  CATALOG.forEach(p=>{
    const el = document.createElement('article');
    el.className = 'card';
    el.innerHTML = `
      <img src="${p.img}" alt="${p.title}" style="border-radius:12px; border:1px solid var(--edge); margin-bottom:10px">
      <h3>${p.title}</h3>
      <p class="muted">${p.desc}</p>
      <div class="row" style="justify-content:space-between; margin-top:10px">
        <strong class="money">€${p.price}</strong>
        <div class="row" style="gap:8px">
          <button class="btn ghost small" data-add="${p.id}">Adaugă în coș</button>
          <button class="btn primary small" data-buy="${p.id}">Cumpără acum</button>
        </div>
      </div>
    `;
    grid.appendChild(el);
  });
}
renderCatalog();

// Cart
const Cart = {
  key:'rivo_cart',
  load(){ try{return JSON.parse(localStorage.getItem(this.key)||'[]')}catch{return[]} },
  save(items){ localStorage.setItem(this.key, JSON.stringify(items)); updateCartBadge(); },
  add(id, qty=1){ const items=this.load(); const it=items.find(x=>x.id===id); if(it){ it.qty+=qty; } else { items.push({id, qty}); } this.save(items); },
  remove(id){ const items=this.load().filter(x=>x.id!==id); this.save(items); },
  clear(){ this.save([]); },
  all(){ return this.load(); },
  count(){ return this.all().reduce((a,b)=>a+b.qty,0); }
};
function updateCartBadge(){ document.getElementById('cart-count').textContent = Cart.count(); }
updateCartBadge();

// Purchases (demo local) — în producție marchezi în DB după webhook
const Purchases = {
  key:'rivo_purchases',
  load(){ try{return JSON.parse(localStorage.getItem(this.key)||'[]')}catch{return[]} },
  save(v){ localStorage.setItem(this.key, JSON.stringify(v)); },
  add(id){ const v=this.load(); if(!v.includes(id)){ v.push(id); this.save(v); } },
  all(){ return this.load(); }
};

// Events pe catalog
document.addEventListener('click', (e)=>{
  const add = e.target.closest('[data-add]');
  const buy = e.target.closest('[data-buy]');
  const sub = e.target.closest('[data-sub]');
  const rm  = e.target.closest('[data-rm]');
  if(add){ Cart.add(add.dataset.add,1); alert('Adăugat în coș.'); }
  if(buy){ quickBuy(buy.dataset.buy); }
  if(sub){ createSubscription(sub.dataset.sub); }
  if(rm){ Cart.remove(rm.dataset.rm); renderCart(); }
});

// Coș – render
function renderCart(){
  const wrap = document.getElementById('cart-view');
  if(!wrap) return;
  const items = Cart.all();
  if(!items.length){ wrap.innerHTML = '<p class="muted">Coșul este gol.</p>'; return; }
  const rows = items.map(it=>{
    const p = CATALOG.find(x=>x.id===it.id);
    const title = p ? p.title : it.id;
    const price = p ? p.price : 0;
    return `<tr><td>${title}</td><td>€${price}</td><td>x ${it.qty}</td><td>€${(price*it.qty).toFixed(2)}</td><td><button class="btn small ghost" data-rm="${it.id}">Șterge</button></td></tr>`;
  }).join('');
  const total = items.reduce((s,it)=>{
    const p = CATALOG.find(x=>x.id===it.id); return s + (p?p.price:0)*it.qty;
  },0);
  wrap.innerHTML = `
    <table class="table"><thead><tr><th>Produs</th><th>Preț</th><th>Cant.</th><th>Total</th><th></th></tr></thead>
    <tbody>${rows}</tbody>
    <tfoot><tr><td colspan="3" style="text-align:right"><strong>Total</strong></td><td><strong>€${total.toFixed(2)}</strong></td><td></td></tr></tfoot></table>
  `;
}
function renderCartPage(){ if(location.hash==='#/cart'){ renderCart(); } }
renderCartPage();

// Checkout one-time (întreg coșul)
async function checkoutFlow(){
  const items = Cart.all();
  if(items.length===0) return alert('Coș gol.');
  const email = prompt('Email pentru chitanță (opțional):') || undefined;
  try{
    const res = await fetch('/api/create-checkout-session', {
      method:'POST', headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ items, email })
    });
    if(!res.ok) throw new Error('Checkout failed');
    const { url } = await res.json();
    if(url){ window.location = url; return; }
    throw new Error('No URL from Stripe');
  }catch(err){
    console.error(err);
    // fallback DEMO
    items.forEach(it=> Purchases.add(it.id));
    Cart.clear(); renderCart(); renderCartPage();
    alert('Demo: achiziție simulată. Verifică Dashboard.');
    location.hash = '#/dashboard';
  }
}
document.getElementById('btn-checkout')?.addEventListener('click', checkoutFlow);

// „Cumpără acum” (one item)
async function quickBuy(id){
  const email = prompt('Email pentru chitanță (opțional):') || undefined;
  try{
    const res = await fetch('/api/create-checkout-session', {
      method:'POST', headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ items:[{id, qty:1}], email })
    });
    if(!res.ok) throw new Error('Checkout failed');
    const { url } = await res.json();
    if(url){ window.location = url; return; }
    throw new Error('No URL from Stripe');
  }catch(err){
    console.error(err);
    Purchases.add(id);
    alert('Demo: achiziție simulată. Verifică Dashboard.');
    location.hash = '#/dashboard';
  }
}

// Abonamente (lunar/anual)
async function createSubscription(planKey){
  const email = prompt('Email pentru abonament (obligatoriu în demo):');
  if(!email) return;
  try{
    const res = await fetch('/api/create-subscription-session', {
      method:'POST', headers:{'Content-Type':'application/json'},
      body: JSON.stringify({ planKey, email })
    });
    if(!res.ok) throw new Error('Subscription failed');
    const { url } = await res.json();
    if(url){ window.location = url; return; }
    throw new Error('No URL from Stripe');
  }catch(err){
    console.error(err);
    alert('Demo: abonament simulat. Vezi plan activ în Dashboard.');
    location.hash = '#/dashboard';
  }
}

// SLIDER auto
const slides = document.getElementById('slides');
const prev = document.getElementById('prev');
const next = document.getElementById('next');
let idx = 0; const total = slides.children.length;
function go(i){ idx = (i+total)%total; slides.style.transform = `translateX(${-idx*100}%)`; }
prev.addEventListener('click', ()=> go(idx-1));
next.addEventListener('click', ()=> go(idx+1));
let auto = setInterval(()=> go(idx+1), 5000);
[prev,next,slides].forEach(el=> el.addEventListener('mouseenter', ()=> clearInterval(auto)));

// PRICING TOGGLE
const billing = document.getElementById('billing');
const monies = document.querySelectorAll('.money');
const setMode = (annual)=>{
  monies.forEach(m=>{ const y=m.getAttribute('data-year'); const mo=m.getAttribute('data-month'); m.textContent = annual? y : mo; });
  billing.classList.toggle('on', annual); billing.setAttribute('aria-checked', annual? 'true':'false');
};
billing.addEventListener('click', ()=> setMode(!billing.classList.contains('on')));
billing.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' '){ e.preventDefault(); setMode(!billing.classList.contains('on')); }});

// Dashboard demo
function renderDashboard(){
  const tbody = document.querySelector('#my-courses tbody');
  if(!tbody) return;
  const owned = Purchases.all();
  tbody.innerHTML = '';
  if(!owned.length){ tbody.innerHTML = '<tr><td colspan="3" class="muted">Încă n-ai cumpărat nimic.</td></tr>'; return; }
  owned.forEach(id=>{
    const p = CATALOG.find(x=>x.id===id);
    const title = p ? p.title : id;
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${title}</td><td>Activ</td><td><button class="btn small primary">Deschide</button></td>`;
    tbody.appendChild(tr);
  });
}

// Redări pe rute
function onRoute(){
  renderCartPage();
  if(location.hash==='#/dashboard'){ renderDashboard(); }
}
window.addEventListener('hashchange', onRoute);
onRoute();
</script>
</body>
</html>
